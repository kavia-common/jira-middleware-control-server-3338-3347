{"is_source_file": true, "format": "Python", "description": "This is the main application source file for a FastAPI-based backend service related to JIRA integration. It sets up middleware, routes, health checks, and error handling for the service.", "external_files": ["app/api/routes", "app/core/config", "app/utils/logging", "app/middleware/auth", "starlette.types"], "external_methods": ["fastapi.FastAPI", "fastapi.Request", "fastapi.responses.JSONResponse", "app.api.routes.api_router", "app.core.config.get_settings", "app.utils.logging.configure_logging", "app.middleware.auth.api_key_auth_middleware", "starlette.middleware.base.BaseHTTPMiddleware"], "published": ["app"], "classes": [{"name": "RequestIDMiddleware", "description": "Middleware class that attaches a unique request ID to each incoming request and logs request/response details."}], "methods": [{"name": "str read_version()", "description": "Reads the version from a VERSION file, with fallback to '0.1.0' if reading fails.", "scope": "", "scopeKind": ""}, {"name": "FastAPI build_app()", "description": "Creates and configures the FastAPI application, setting up middleware, routes, error handlers, and health check endpoints.", "scope": "", "scopeKind": ""}, {"name": "None __init__(self, app: ASGIApp)", "scope": "RequestIDMiddleware", "scopeKind": "class", "description": "unavailable"}, {"name": "dispatch(self, request: Request, call_next)", "scope": "RequestIDMiddleware", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str,Any] health(request: Request)", "scope": "build_app", "scopeKind": "function", "description": "unavailable"}, {"name": "Dict[str,Any] root(request: Request)", "scope": "build_app", "scopeKind": "function", "description": "unavailable"}, {"name": "shutdown_event()", "scope": "build_app", "scopeKind": "function", "description": "unavailable"}, {"name": "unhandled_exception_handler(request: Request, exc: Exception)", "scope": "build_app", "scopeKind": "function", "description": "unavailable"}, {"name": "validate_config_on_startup()", "scope": "build_app", "scopeKind": "function", "description": "unavailable"}], "calls": ["Path.read_text", "get_settings", "configure_logging", "app.add_middleware", "app.middleware", "app.include_router", "app.get", "jsonify", "logger.exception", "logger.warning", "time.perf_counter", "time.time", "Path.resolve", "Path.read_text", "await asyncio.sleep"], "search-terms": ["FastAPI", "middleware", "RequestIDMiddleware", "health check endpoint", "error handling", "configuration validation", "JIRA", "app.build_app()", "main.py"], "state": 2, "file_id": 6, "knowledge_revision": 41, "git_revision": "", "revision_history": [{"13": ""}, {"41": ""}], "ctags": [{"_type": "tag", "name": "RequestIDMiddleware", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^class RequestIDMiddleware(BaseHTTPMiddleware):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    def __init__(self, app: ASGIApp) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, app: ASGIApp)", "scope": "RequestIDMiddleware", "scopeKind": "class"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^app = build_app()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "build_app", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^def build_app() -> FastAPI:$/", "language": "Python", "typeref": "typename:FastAPI", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "dispatch", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    async def dispatch(self, request: Request, call_next):$/", "language": "Python", "kind": "member", "signature": "(self, request: Request, call_next)", "scope": "RequestIDMiddleware", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    async def health(request: Request) -> Dict[str, Any]:$/", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(request: Request)", "scope": "build_app", "scopeKind": "function"}, {"_type": "tag", "name": "read_version", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^def read_version() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "root", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    async def root(request: Request) -> Dict[str, Any]:$/", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(request: Request)", "scope": "build_app", "scopeKind": "function"}, {"_type": "tag", "name": "shutdown_event", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    async def shutdown_event():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "build_app", "scopeKind": "function"}, {"_type": "tag", "name": "unhandled_exception_handler", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    async def unhandled_exception_handler(request: Request, exc: Exception):$/", "file": true, "language": "Python", "kind": "function", "signature": "(request: Request, exc: Exception)", "scope": "build_app", "scopeKind": "function"}, {"_type": "tag", "name": "validate_config_on_startup", "path": "/home/kavia/workspace/code-generation/jira-middleware-control-server-3338-3347/jira_mcp_backend/app/main.py", "pattern": "/^    async def validate_config_on_startup():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "build_app", "scopeKind": "function"}], "hash": "ca8162cdd0f0f448615e9e0d6a046c0d", "format-version": 4, "code-base-name": "jira_mcp_backend", "filename": "jira_mcp_backend/app/main.py", "fields": [{"name": "app = build_app()", "scope": "", "scopeKind": "", "description": "unavailable"}]}